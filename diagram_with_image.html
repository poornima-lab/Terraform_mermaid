<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid Diagram with Different Icons</title>
    <script src="js/mermaid.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            mermaid.initialize({ startOnLoad: true });

            mermaid.init(undefined, document.querySelectorAll('.mermaid'));

            // Wait a bit for Mermaid to render
            setTimeout(() => {
                const adjustNode = (nodeId, imageName) => {
                    const node = document.querySelector(`[id^="${nodeId}"]`);
                    if (node) {
                        console.log(`Found ${nodeId} node`);
                        node.innerHTML = `
                            <foreignObject width="100" height="100" x="-50" y="-50">
                                <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: center; justify-content: center; width: 100px; height: 100px;">
                                    <img src="./images/${imageName}" alt="${nodeId}" style="width:80px; height:80px;" />
                                </div>
                            </foreignObject>`;
                    } else {
                        console.log(`${nodeId} node not found`);
                    }
                };

                //  adjustNode("aws_instance_example", "aws_instance_image.png");
              //  adjustNode("aws_s3_bucket_example_bucket", "aws_s3_bucket_image.png");
              adjustNode("aws_instance_i_0abcd1234efgh5678", "aws_instance_image.png");
                adjustNode("aws_s3_bucket_my_bucket", "aws_s3_bucket_image.png");
                adjustNode("aws_dynamodb_table_my_table", "DynamoDB.png");
                
            }, 1000);
        });
    </script>
    <style>
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .mermaid-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .mermaid {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="mermaid-container">
            <div class="mermaid">
graph TD
aws_dynamodb_table_my_table["aws_dynamodb_table - my_table"]
aws_instance_i_0abcd1234efgh5678["aws_instance - i-0abcd1234efgh5678"]
aws_s3_bucket_my_bucket["aws_s3_bucket - my-bucket"]
aws_dynamodb_table_my_table --> aws_instance_i_0abcd1234efgh5678
aws_instance_i_0abcd1234efgh5678 --> aws_s3_bucket_my_bucket

</div>
        </div>
    </div>
</body>
</html>
